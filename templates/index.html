<html>
    <head>

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css"
   integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
   crossorigin=""/>
         <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"
   integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="
   crossorigin=""></script>
        <link rel="stylesheet" href="{{url_for('static', filename='app.css')}}">

        <link rel="stylesheet" href="https://unpkg.com/leaflet.pm@latest/dist/leaflet.pm.css" />
        <script src="https://unpkg.com/leaflet.pm@latest/dist/leaflet.pm.min.js"></script>

        <title>Track Editor</title>
    </head>

    <body>
        <h1>UAV route map</h1>

    <div id="mapid" style="width: 1200px; height: 800px;"></div>

    <script>
        var points = {{ lat_lon|tojson }};
        var map = L.map('mapid').setView(points[0], 13);

        L.tileLayer(
            'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
            {attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'
        }).addTo(map);

        var polyline = L.polyline(points, {color: 'red'}).addTo(map);
        map.fitBounds(polyline.getBounds());
        map.pm.addControls({
            position: 'topleft',
            drawCircle: false,
        });
    </script>
    </body>
</html>